{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Joseph/Projects/PICABORD_Web/components/PrivacySettings.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Shield, Check, X } from 'lucide-react'\r\nimport { \r\n  getConsentState, \r\n  grantConsent, \r\n  declineConsent, \r\n  withdrawConsent,\r\n  onConsentChange \r\n} from '@/lib/consent-manager'\r\n\r\n/**\r\n * PrivacySettings Component\r\n * \r\n * Allows users to view and manage their privacy and consent preferences.\r\n * Provides options to grant, decline, or withdraw consent for analytics.\r\n */\r\nexport default function PrivacySettings() {\r\n  const [consentState, setConsentState] = useState<{\r\n    hasResponded: boolean\r\n    consentGiven: boolean\r\n    timestamp?: number\r\n  }>({\r\n    hasResponded: false,\r\n    consentGiven: false,\r\n    timestamp: undefined,\r\n  })\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  // Load consent state on mount\r\n  useEffect(() => {\r\n    const state = getConsentState()\r\n    setConsentState({\r\n      hasResponded: state.hasResponded,\r\n      consentGiven: state.consentGiven,\r\n      timestamp: state.timestamp,\r\n    })\r\n\r\n    // Listen for consent changes\r\n    const cleanup = onConsentChange((consentGiven) => {\r\n      const updatedState = getConsentState()\r\n      setConsentState({\r\n        hasResponded: updatedState.hasResponded,\r\n        consentGiven: updatedState.consentGiven,\r\n        timestamp: updatedState.timestamp,\r\n      })\r\n    })\r\n\r\n    return cleanup\r\n  }, [])\r\n\r\n  /**\r\n   * Handle granting consent\r\n   */\r\n  const handleGrantConsent = () => {\r\n    setIsLoading(true)\r\n    grantConsent()\r\n    // Page will reload, so no need to reset loading state\r\n  }\r\n\r\n  /**\r\n   * Handle declining consent\r\n   */\r\n  const handleDeclineConsent = () => {\r\n    setIsLoading(true)\r\n    declineConsent()\r\n    setIsLoading(false)\r\n    // Update state immediately\r\n    const updatedState = getConsentState()\r\n    setConsentState({\r\n      hasResponded: updatedState.hasResponded,\r\n      consentGiven: updatedState.consentGiven,\r\n      timestamp: updatedState.timestamp,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handle withdrawing consent\r\n   */\r\n  const handleWithdrawConsent = () => {\r\n    if (confirm('Are you sure you want to withdraw your consent? This will clear all analytics data and reload the page.')) {\r\n      setIsLoading(true)\r\n      withdrawConsent()\r\n      // Page will reload, so no need to reset loading state\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Format timestamp for display\r\n   */\r\n  const formatTimestamp = (timestamp?: number): string => {\r\n    if (!timestamp) return 'N/A'\r\n    \r\n    const date = new Date(timestamp)\r\n    return date.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-background/90 backdrop-blur-xl border border-border/50 rounded-3xl p-6 shadow-lg\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-3 mb-6\">\r\n        <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\r\n          <Shield className=\"w-5 h-5 text-primary\" />\r\n        </div>\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold text-foreground\">Privacy Settings</h2>\r\n          <p className=\"text-sm text-muted-foreground\">Manage your data and consent preferences</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current Status */}\r\n      <div className=\"mb-6 p-4 bg-muted/30 rounded-2xl\">\r\n        <h3 className=\"text-sm font-semibold text-foreground mb-3\">Current Status</h3>\r\n        \r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm text-muted-foreground\">Analytics Consent:</span>\r\n            <div className=\"flex items-center gap-2\">\r\n              {consentState.consentGiven ? (\r\n                <>\r\n                  <Check className=\"w-4 h-4 text-green-500\" />\r\n                  <span className=\"text-sm font-medium text-green-500\">Granted</span>\r\n                </>\r\n              ) : consentState.hasResponded ? (\r\n                <>\r\n                  <X className=\"w-4 h-4 text-red-500\" />\r\n                  <span className=\"text-sm font-medium text-red-500\">Declined</span>\r\n                </>\r\n              ) : (\r\n                <span className=\"text-sm font-medium text-muted-foreground\">Not Set</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {consentState.timestamp && (\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm text-muted-foreground\">Last Updated:</span>\r\n              <span className=\"text-sm font-medium text-foreground\">\r\n                {formatTimestamp(consentState.timestamp)}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Information */}\r\n      <div className=\"mb-6 p-4 bg-primary/5 rounded-2xl\">\r\n        <h3 className=\"text-sm font-semibold text-foreground mb-2\">What We Track</h3>\r\n        <ul className=\"text-sm text-muted-foreground space-y-1\">\r\n          <li>• Page views and navigation patterns</li>\r\n          <li>• Time spent on pages</li>\r\n          <li>• Button clicks and interactions</li>\r\n          <li>• Form submissions (no personal data)</li>\r\n        </ul>\r\n        <p className=\"text-xs text-muted-foreground mt-3\">\r\n          All data is anonymized and we never collect personally identifiable information.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"space-y-3\">\r\n        {!consentState.hasResponded && (\r\n          <>\r\n            <Button\r\n              onClick={handleGrantConsent}\r\n              disabled={isLoading}\r\n              className=\"w-full rounded-2xl py-2.5 font-semibold bg-primary text-primary-foreground hover:bg-primary/90\"\r\n            >\r\n              {isLoading ? 'Processing...' : 'Grant Consent'}\r\n            </Button>\r\n            <Button\r\n              onClick={handleDeclineConsent}\r\n              disabled={isLoading}\r\n              variant=\"outline\"\r\n              className=\"w-full rounded-2xl py-2.5 font-semibold\"\r\n            >\r\n              Decline Consent\r\n            </Button>\r\n          </>\r\n        )}\r\n\r\n        {consentState.hasResponded && !consentState.consentGiven && (\r\n          <Button\r\n            onClick={handleGrantConsent}\r\n            disabled={isLoading}\r\n            className=\"w-full rounded-2xl py-2.5 font-semibold bg-primary text-primary-foreground hover:bg-primary/90\"\r\n          >\r\n            {isLoading ? 'Processing...' : 'Grant Consent'}\r\n          </Button>\r\n        )}\r\n\r\n        {consentState.consentGiven && (\r\n          <Button\r\n            onClick={handleWithdrawConsent}\r\n            disabled={isLoading}\r\n            variant=\"destructive\"\r\n            className=\"w-full rounded-2xl py-2.5 font-semibold\"\r\n          >\r\n            {isLoading ? 'Processing...' : 'Withdraw Consent & Clear Data'}\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Additional Info */}\r\n      <p className=\"text-xs text-muted-foreground mt-4 text-center\">\r\n        Changes to your consent preferences will take effect immediately.\r\n        {consentState.consentGiven && ' Withdrawing consent will clear all stored analytics data.'}\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/shield.js","sources":["file:///C:/Users/Joseph/Projects/PICABORD_Web/node_modules/lucide-react/src/icons/shield.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('Shield', [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n]);\n\nexport default Shield;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAS,6KAAA,EAAiB,QAAU,CAAA,CAAA,CAAA;IACxC,CAAA;QACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACA,CAAA;YACE,CAAG,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YACH,CAAA,CAAA,CAAK,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACP,CAAA;KACF;CACD,CAAA,CAAA","debugId":null}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/check.js","sources":["file:///C:/Users/Joseph/Projects/PICABORD_Web/node_modules/lucide-react/src/icons/check.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('Check', [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]]);\n\nexport default Check;\n"],"names":[],"mappings":";;;;;;;;;;;AAaA,CAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,OAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,8JAAA,EAAiB,OAAS,CAAA,CAAA;IAAC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ;YAAE,CAAA,CAAA,CAAG,iBAAmB,CAAA;YAAA,CAAA,CAAA,CAAA,EAAK,CAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAC;KAAC;CAAC,CAAA,CAAA","debugId":null}}]
}